<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
	<title>Parameters</title>
	<meta name="viewport" content="width=400" />
	
	<script src="socket.io/socket.io.js"></script>
	<link rel="stylesheet" href="slider.css">
	<link rel="stylesheet" href="yle.css">
	<style>
	body {
		color: white;
	}
	</style>

  </head>
  <body>
  	<div id="header">
    	<div id='infos'>Parameters settings</div>
    	<div id="menu">
    		<a href="/"><img id="home" src="home.png"></a>
    	</div>
    </div>
	<div id="blocAllParam">
		<div class="blocParamImg">
			<img src="fan.png">
		</div>
		<div class="blocParamTxt">
			<span id="outputText1">xx</span><span>°C </span>
		</div>
		<div class="blocSlider">
			<input type="range" id="inputSlider1" min="18" max="55" value="25" step="0.1" oninput="showParam(1,this.value)" />
		</div>
		<div id="atten">
			<div class="blocParamImg">
				<img src="atten.png">
			</div>
			<div class="blocParamTxt">
				<span id="outputText2">xx</span><span>°C </span>
			</div>				
			<div class="blocSlider">
				<input type="range" id="inputSlider2" min="18" max="60" value="25" step="0.1" oninput="showParam(2,this.value)" />
			</div>
			<div class="blocParamTxt">
				<span id="outputText3">xx</span><span>% </span>
			</div>				
			<div class="blocSlider">
				<input type="range" id="inputSlider3" min="0" max="100" value="25" step="5" oninput="showParam(3,this.value)" />
			</div>
		</div>
	</div>    
	<script type="text/javascript">		
		var socket = io.connect();

		function showParam(num, newValue) {
			socket.emit('param'+num, { value: newValue });
		}

		function socketSlider(num) {
			socket.on('param'+num, function (data) {
				document.getElementById( "inputSlider" + num ).value = data.value;
				document.getElementById( "outputText" + num ).innerHTML = data.value;
			});
		}

		socketSlider(1);
		socketSlider(2);
		socketSlider(3);
	</script>
  </body>
</html>